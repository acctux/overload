// Logiops (Linux driver) configuration for Logitech MX Master 3S.
// Includes gestures, smartshift, DPI.
// File location: /etc/logid.cfg
devices: ({
  name: "MX Master 3S";
  smartshift: {
    on: true;
    threshold: 30;
  };
  hiresscroll: {
    hires: true;
    invert: false;
  };
  dpi: {
    value: 4000;
  };
  buttons: (
    // Back button
    {
      cid: 0x53;
      action: {
        type: "Gestures";
        gestures: (
          {
            direction: "None";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTCTRL", "KEY_C" ];
            }
          },
          {
            direction: "Right";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_G" ];
            }
          },
          {
            direction: "Left";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_D" ];
            }
          },
          {
            direction: "Up";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_F" ];
            }
          },
          {
            direction: "Down";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_ESC" ];
            }
          }
        );
      };
    },
    // Forward button
    {
      cid: 0x56;
      action: {
        type: "Gestures";
        gestures: (
          {
            direction: "None";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTCTRL", "KEY_V" ];
            }
          },
          {
            direction: "Up";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_ENTER" ];
            }
          },
          {
            direction: "Down";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_B" ];
            }
          },
          {
            direction: "Right";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_T" ];
            }
          },
          {
            direction: "Left";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_E" ];
            }
          }
        );
      };
    },
    // Gesture button (hold and move)
    {
      cid: 0xc3;
      action: {
        type: "Gestures";
        gestures: (
          {
            direction: "None";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_R" ];
            }
          },
          {
            direction: "Right";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_2" ];
            }
          },
          {
            direction: "Left";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_4" ];
            }
          },
          {
            direction: "Up";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_1" ];
            }
          },
          {
            direction: "Down";
            mode: "OnRelease";
            action: {
              type: "Keypress";
              keys: [ "KEY_LEFTMETA", "KEY_3" ];
            }
          }
        );
      };
    },
    // Top button
    {
      cid: 0xc4;
      action: {
        type: "Keypress";
        keys: [ "KEY_LEFTSHIFT" ];
      };
    }
  );
});
